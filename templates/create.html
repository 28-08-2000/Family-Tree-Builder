<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Build Family Tree</title>

<style type="text/css">
	/*the body element*/
	body {
		background-color: ; #17f9ae;
	}

	/*img element*/
	img {
		width: 100%;
		border-radius: 12px;
		height: 214px;
		object-fit: cover;
	}

	/*container styling*/
	#container {
		max-width: 300px;

		/*center the container in middle on horizontal axis*/
		margin: 0 auto;

		/*add empty space above container*/
		margin-top: 20vh;
	}

	/*styling the card*/
	.card {
	  /* Change background color */
	  background-color: white;

	  /* Add border */
	  border: 1px solid #bacdd8;

	  /* Add space between the border and the content */
	  padding: 8px;

	  border-radius: 12px;
	}

	/*styling the card*/
	.form-card {

	  width: 655px;
	  margin: auto;
	}

	/* Style div elements that have class equal to tag */
	.tag {
	  padding: 4px 8px;
	  border: 1px solid #e5eaed;

	  border-radius: 50px;
	  font-size: 12px;
	  font-weight: 600;
	  color: #788697;
	}

	/* Style div elements that have class equal to name */
	.name {
	  font-size: 24px;
	  font-weight: 300;

	  margin-top: 16px;
	}

	/* Style p element */
	p {
	  font-size: 14px;
	  color: #7f8c9b;
	  line-height: 150%;
	}

	/* Style button element */
	button {
	  border: none;
	  padding: 6px 12px;
	  border-radius: 50px;

	  font-weight: 300;
	  color: #0077ff;
	  background-color: #e0efff;

	  /* Button is inline-block element by default, it need to have block display for margin: 0 auto; to work */
	  margin: 0 auto;
	  display: block;

	  /* Button is a clickable element, therefore it should have a pointer cursor */
	  cursor: pointer;
	}

	.card__details {
	  /* Add space around the details */
	  padding: 16px 8px 8px 8px;
	}

	/* Add style when button is focused or hovered */
	button:focus,
	button:hover {
	  background-color: #0077ff;
	  color: #e0efff;
	}
	/* Button used to open the contact form - fixed at the bottom of the page */
	.open-button {
	  background-color: #555;
	  color: white;
	  padding: 16px 20px;
	  border: none;
	  cursor: pointer;
	  opacity: 0.8;
	  position: fixed;
	  bottom: 23px;
	  right: 28px;
	  width: 150px;
	}

	/* The popup form - hidden by default */
	.form-popup {
	  display: none;
	  position: fixed;
	  bottom: 0;
	  right: 25px;
	  border: 3px solid #f1f1f1;
	  z-index: 9;
	}

	/* Add styles to the form container */
	.form-container {
	  max-width: 300px;
	  padding: 20px 20px;
	  background-color: white;
	}

	/* Full-width input fields */
	.form-container input[type=text], .form-container input[type=password] {
	  width: 100%;
	  padding: 5px;
	  margin: 5px 0 10px 0;
	  border: none;
	  background: #f1f1f1;
	}
 
	/* When the inputs get focus, do something */
	.form-container input[type=text]:focus, .form-container input[type=password]:focus {
	  background-color: #ddd;
	  outline: none;
	}

	/* Set a style for the submit/login button */
	.form-container .btn {
	  background-color: #04AA6D;
	  color: white;
	  padding: 10px 5px;
	  border: none;
	  cursor: pointer;
	  width: 80%;
	  margin-bottom:5px;
	  opacity: 0.8;
	}

	/* Add a red background color to the cancel button */
	.form-container .cancel {
	  background-color: red;
	}

	/* Add some hover effects to buttons */
	.form-container .btn:hover, .open-button:hover {
	  opacity: 1;
	}

</style>

</head>
<body>

	<h3>Your Saved Data</h3>

	<table border = "1">
         <tr>
            <td>Row 1, Column 1</td>
            <td>Row 1, Column 1</td>
         </tr>
      </table>

    <table border = "1">

	<!-- let's try prining in an hierarchy -->
	{% for gen in family %}

		<tr>
		<!-- print the members in this generation -->
		{% for ind in gen %}

			<td>	
			<!-- container class -->
			<div id="container">

				<!-- individual card -->
				<div class="card">
					
					<div class = "card_details">
						
						Name: <span class="name">{{ind.first_Name}} {{ind.last_Name}}</span>
						<br>
						<span>Gender: {{ind.gender}}</span>
						<br> 
						{% if ind.father != None %}
							Father: <span>{{ind.father}}</span>
						{% endif %}
						{% if ind.mother != None %}
							Mother: <span>{{ind.mother}}</span>
						{% endif %}
		
					</div>
				</div>
			</div>

			</td>
		{% endfor %}
		</tr>

	{% endfor %}
	</table>

	<!-- ADD RELATIONSHIP FORM -->
	<div class="form-popup" id="myForm" id="{{ind.id}}">
	  <form action="create/relation/" method="POST" class="form-container">

	    <!-- for the csrf verification required -->
		{% csrf_token %}

		<!-- Fields and button in same div -->
		<div class="from-card">

			{{relationForm.as_p}}

		    <button type="submit" class="btn">relate</button>
		    <button type="button" class="btn cancel" onclick="closeForm()">Close</button>

		</div>
	  </form>
	</div>

	<!-- TO SHOW FORM BUTTON -->	
	<button class="open-button" onclick="openForm()">Add Relation</button>

	<h3> Create your tree here</h3>

	<!-- This form will take user's info -->
	<form action="" method="POST">
		
		<!-- for the csrf verification required -->
		{% csrf_token %}

		<!-- Fields and button in same div -->
		<div class="from-card">

			{{form.as_p}}

			<input type="submit" value="Submit" class="btn btn-secondary">
		</div>

	</form>


<!-- JAVASCRIPT -->

<!-- TO SHOW AND HIDE FORM -->
<script>
function openForm() {
  document.getElementById("myForm").style.display = "block";
}

function closeForm() {
  document.getElementById("myForm").style.display = "none";
}
</script>

</body>
</html>